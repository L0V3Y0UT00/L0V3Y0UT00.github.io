<script type="module">
  // Import Firebase from CDN (for static GitHub Pages)
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-analytics.js";

  // ✅ Your Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyChqEOhLWphDoKnpqxImxw8LDxdLI5JfYA",
    authDomain: "digiledger-ea7c9.firebaseapp.com",
    projectId: "digiledger-ea7c9",
    storageBucket: "digiledger-ea7c9.firebasestorage.app",
    messagingSenderId: "357053207796",
    appId: "1:357053207796:web:cb8acb1efe2d563b4b3aa1",
    measurementId: "G-B1V9HLD2CE"
  };

  // ✅ Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore(app);

  // ✅ Example: Add a Ledger Entry
  async function addLedgerEntry(entry) {
    await addDoc(collection(db, "ledger"), entry);
    console.log("Entry added:", entry);
  }

  // ✅ Example: Get All Ledger Entries
  async function getLedgerEntries() {
    const querySnapshot = await getDocs(collection(db, "ledger"));
    querySnapshot.forEach((doc) => {
      console.log(doc.id, "=>", doc.data());
    });
  }

  // Test when page loads
  window.onload = async () => {
    await addLedgerEntry({ item: "Test Item", amount: 500, date: new Date().toISOString() });
    await getLedgerEntries();
  };
</script>
